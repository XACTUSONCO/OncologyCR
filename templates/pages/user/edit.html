{% extends "bases/base_generic.html" %}
{% load static %}

	{% block content %}
		<div class="page-content">
			<div class="container-fluid">
				<div class="bg-overlay bg-white"></div>

				<!-- start page title -->
				<div class="row">
					<div class="col-12">
						<div class="page-title-box d-flex align-items-center justify-content-between">
							<h2>비밀번호 변경</h2>
							<button id="print" type="button" class="btn btn-outline-secondary print_btn"><i class="bi bi-printer"></i> <span class="invisible-">화면 프린트</span></button>
						</div>
					</div>
				</div>
				<!-- end page title -->

				<!-- start sub-menu-tabs-->
				<div class="row">
					<div class="col-12">
						<div class="sub-menu-tabs">
							<ul id="submenu-tab">
								<li class="nav-item"><a href="/user/profile/overview/">Overview</a></li>
								<li class="nav-item"><a href="/user/profile/edit/info/">Edit Profile</a></li>
								<li class="nav-item"><a href="/user/profile/edit/password/">Change Password</a></li>
							</ul>
						</div>
					</div>
				</div>
				<!-- end sub-menu-tabs -->

                <!-- start contents-area -->
				<div class="row" id="printArea">
					<div class="col-12">

						<div class="info-box">
							<div class="default-forms">
								<form method="post" action="/user/edit/" enctype="multipart/form-data">
								{% csrf_token %}
								<input type="hidden" name="job_title" value="{{ user.groups.all.0.name }}">
								<div class="form-group row">
								  <label class="col-lg-2 col-form-label">아이디</label>
								  <div class="col-lg-10 col-form-data">
									  <input type="text" class="form-control col-sm-9" value="{{ user.username|default_if_none:"" }}" readonly>
								  </div>
								</div>
					
								<div class="form-group row">
								  <label class="col-lg-2 col-form-label">이름</label>
								  <div class="col-lg-10 col-form-data">
									   <input type="text" class="form-control col-sm-9" value="{{ user.first_name }}" readonly>
								  </div>
								</div>
					
								<div class="form-group row {% if 'password' in errors %} card-inverse-danger {% endif %}">
								  <label class="col-lg-2 col-form-label">비밀번호
									{% autoescape off %}
									  {% if 'password' in errors %}
										<div class="text-danger small" style="line-height: 1rem;">{{ errors.password }}</div>
									  {% endif %}
									{% endautoescape %}
									<p class="text-danger">* 영문자+숫자+특수문자 조합으로 8자리 이상이어야 합니다.</p>
								  </label>
								  <div class="col-sm-10 form-input-container checkbox-radio-input">
									<div class="na-or-else-input">
									  <div class="form-check" style="margin-bottom: 12px;">
										<label class="form-check-label max-width-100">
										  <input type="checkbox" style="padding:10px" class="form-check-input" name="change_password">
										  <i class="input-helper"></i><span class="position-relative" style="top:2px;">비밀번호 변경</span>&nbsp;
										  <small class="position-relative" style="top:1px;">(비밀번호를 변경하시면 다시 로그인하서야 합니다.)</small>
										</label>
									  </div>
									  <input type="password" class="form-control col-sm-10" name="new_password"
												 placeholder="(비밀번호)" disabled value="">
									  <input type="password" class="form-control col-sm-10" name="new_password_re"
												 placeholder="(비밀번호 재입력)" disabled value="">
									</div>
								  </div>
								</div>
								<div class="form-group row">
								  <label class="col-lg-2 col-form-label">가입일</label>
								  <div class="col-lg-10 col-form-data">
									  <input class="form-control col-sm-9" value="{{ user.date_joined|date:"Y-m-d" }}" readonly>
								  </div>
								</div>
					
								<div class="py-4 px-3 text-end">
								  <button type="submit" class="btn btn-success add-btn px-4">
									<i class="bi bi-pencil"></i> <span>Save</span>
								  </button>
								</div>
							  </form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	{% endblock %}

{% block script %}
<script src="{% static 'js/CRUD/user_edit.js' %}"></script>
{% endblock %}
