{% extends "bases/base_generic.html" %}
{% load static %}

	{% block content %}
		<div class="page-content">
			<div class="container-fluid">
				<div class="bg-overlay bg-white"></div>

				<!-- start page title -->
				<div class="row">
					<div class="col-12">
						<div class="page-title-box d-flex align-items-center justify-content-between">
							<h2>Add QC</h2>
							<button id="print" type="button" class="btn btn-outline-secondary print_btn"><i class="bi bi-printer"></i> <span class="invisible-">화면 프린트</span></button>

							<div class="page-nav">
								<ul class="breadcrumb">
									<li class="breadcrumb-item"><a href="/"> <i class="bi bi-house"></i> </a></li>
									<li class="breadcrumb-item"><a href="/miscellaneous/QC/">QC</a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<!-- end page title -->

				<!-- start contents-area -->
				<div class="row" id="printArea">
					<div class="col-12">

						<!-- 연구 상세 -->
						<div class="card maindata-card shadow mb-5">
							<!-- Card Header - Dropdown -->
							<!-- Card Body -->
							<div class="card-body">
								<div class="default-forms">
									<form class="forms-sample" method="post" action="/miscellaneous/QC/add/" enctype="multipart/form-data">
                                      {% csrf_token %}
                                      {% include 'pages/miscellaneous/QC/QC_add_edit_form.html' %}
									  <div class="py-4 px-3 text-end">
										<button type="button" class="btn btn-outline-secondary" onclick="history.back()">
                                          <i class="bi bi-arrow-left-square"></i> <span>Cancel</span>
                                        </button>
										<button type="submit" class="btn btn-success edit-btn px-4" onclick="location.href='/miscellaneous/QC/'">
                                          <i class="bi bi-pencil"></i> <span>Submit</span>
                                        </button>
									  </div>
								  	</form>
								</div><!-- //default-forms -->
							</div>
						</div><!-- //maindata-card -->
					</div>
				</div>
			</div>
		</div>
	{% endblock %}

{% block script %}
<script>
	$(".datepicker").datepicker({
		todayHighlight: true,
		showMonthAfterYear: true,
		format: 'yyyy-mm-dd', // 날짜 형식
		autoclose: true, // 날짜 선택 후 자동으로 닫힘
		minViewMode: 'months', // 최소 선택 단위 (월)
		language: 'ko', // 한국어 지원
	}).on('changeDate', function (e) {
		// 시작일과 종료일 입력 필드를 구분하기 위해 데이터 속성을 활용합니다.
		var inputId = $(this).attr('id');
		if (inputId === 'start_full') {
			// 시작일이 변경된 경우, 종료일을 설정합니다.
			var selectedDate = e.date;
			var endPicker = $('#end_full');
			var lastDay = new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1, 0);
			endPicker.datepicker('setDate', lastDay);
		}
	});
</script>
{% endblock %}
